<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Battle Overlay</title><style>body,html{margin:0;padding:0;overflow:hidden;font-family:'Segoe UI',Arial,sans-serif;background:transparent;color:#fff;position:relative}#centerLine{position:absolute;top:0;bottom:0;left:50%;border-left:3px dotted rgba(0,0,0,.7);transform:translateX(-50%);pointer-events:none}#wrap{position:absolute;bottom:5vh;left:50%;transform:translateX(-50%);display:flex;gap:24px;align-items:center;background:linear-gradient(135deg,rgba(0,0,0,.75),rgba(25,25,25,.7));border:2px solid rgba(255,255,255,.15);padding:14px 18px;border-radius:14px;box-shadow:0 10px 40px rgba(0,0,0,.45)}.block{display:flex;flex-direction:column;min-width:200px}.name{font-size:22px;font-weight:700;text-transform:uppercase;letter-spacing:.08em}.score{font-size:42px;font-weight:900;line-height:1;margin-top:4px}.label{font-size:12px;letter-spacing:.2em;opacity:.7}.center{align-items:center;text-align:center;border-left:1px solid rgba(255,255,255,.1);border-right:1px solid rgba(255,255,255,.1);padding:0 16px}</style></head><body><div id="centerLine"></div><div id="wrap"><div class="block" id="slotOne"><div class="label">SLOT ONE</div><div class="name" id="slotOneName">Waiting...</div><div class="score" id="slotOneScore">0</div></div><div class="block center"><div class="label">MODE</div><div class="name" id="mode">Standard</div><div class="label" id="status">Idle</div></div><div class="block" id="slotTwo"><div class="label">SLOT TWO</div><div class="name" id="slotTwoName">Waiting...</div><div class="score" id="slotTwoScore">0</div></div></div><script>(()=>{const wsUrl=(location.origin.replace(/^http/,"ws"))+"/ws/state";const slotOneName=document.getElementById("slotOneName");const slotTwoName=document.getElementById("slotTwoName");const slotOneScore=document.getElementById("slotOneScore");const slotTwoScore=document.getElementById("slotTwoScore");const mode=document.getElementById("mode");const status=document.getElementById("status");function render(state){slotOneName.textContent=state.slot_one||"Waiting";slotTwoName.textContent=state.slot_two||"Waiting";slotOneScore.textContent=state.scores?.slot_one??0;slotTwoScore.textContent=state.scores?.slot_two??0;mode.textContent=(state.battle_mode||"standard").toUpperCase();status.textContent=state.active?"LIVE":"IDLE"}function bootstrap(){fetch("/state").then(r=>r.json()).then(render).catch(()=>{});}let ws;function connect(){ws=new WebSocket(wsUrl);ws.onopen=()=>ws.send("ready");ws.onmessage=evt=>{try{const data=JSON.parse(evt.data);if(data?.type==="state"){render(data.payload);}}catch{}};ws.onclose=()=>setTimeout(connect,2000);}connect();bootstrap();})();</script></body></html>
